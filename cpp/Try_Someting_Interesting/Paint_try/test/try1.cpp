#include<windows.h>
#include<tchar.h>
BOOLEAN InitWindowClass(HINSTANCE hInstance, int nCmdShow);
LRESULT CALLBACK WndProc(HWND, UINT, WPARAM, LPARAM);
//???
int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance,
    LPSTR lpCmdLine, int nCmdShow)
{
    MSG Message;
    if (!InitWindowClass(hInstance, nCmdShow))
    {
        MessageBox(NULL, _T("创建窗口失败！"), _T("创建窗口"), NULL);
        return 1;
    }
    while (GetMessage(&Message, 0, 0, 0))   //????
    {
        TranslateMessage(&Message);
        DispatchMessage(&Message);
    }
    return (int)Message.wParam;
}
//?????? 
LRESULT CALLBACK WndProc(HWND hWnd, UINT iMessage, UINT wParam, LONG lParam)
{
    HDC hDC;            //????????????
    PAINTSTRUCT PtStr;  //????????????????
    HBRUSH hBrush;          //?????????
    HPEN hPen;          //?????????
    //HFONT myFont;   //??????  
    //LPCWSTR String1 = L"???????????!!"; //???????????????  
    //LPCWSTR String2 = L"????????????????"; //???????????????  
    static POINT myPoint[3];    //????????.
    static long i = 0;
    long x[3] = { 20,50,60 };   //????????X?Y??
    long y[3] = { 40,20,30};
    switch (iMessage)  //????
    {
    case WM_CREATE:
        for (i = 0; i < 2; i++)     //???????????myPoint?
        {
            myPoint[i].x = x[i];
            myPoint[i].y = y[i];
        }
        break;
    case WM_PAINT:                              //??????
        hDC = BeginPaint(hWnd, &PtStr);
        SetMapMode(hDC, MM_TEXT);       //??????
        //===============================
        //???????
        //===============================
        //?????-PS_SOLID:??;PS_DASH:??;PS_DOT:??
        //?????-?????(????????,??????1!!!)
        //?????-RGB??(?????????,??:0~255)
        hPen = CreatePen(PS_DOT, 1, RGB(255, 0, 0));    //????
        SelectObject(hDC, hPen);        //????
        //?????:?????X??
        //?????:?????Y??
        MoveToEx(hDC, 100, 200, NULL);      //????????
        //?????:?????X??
        //?????:?????Y??
        LineTo(hDC, 300, 400);          //????????????????
        //===============================
        //??????????
        //===============================
        //?????????????????????
        hPen = CreatePen(PS_SOLID, 5, RGB(0, 255, 0));  //????
        //?????-????
        //HS_HORIZONTAL    ----- ????
        //HS_VERTICAL      |||||        ????
        //HS_FDIAGONAL \\\\\        45???,??????
        //HS_BDIAGONAL   /////      ???????
        //HS_CROSS       +++++      ?????????
        //HS_DIAGCROSS       xxxxx  45?????
        //?????:????
        hBrush = CreateHatchBrush(HS_CROSS, RGB(0, 0, 255));//????????????
        //?????????,????????????:
        //hBrush = CreateSolidBrush(RGB(0, 0, 255));    //??????????(??????????????)
        SelectObject(hDC, hBrush);              //????
        SelectObject(hDC, hPen);                //????
        //???????:??????????(x,y)
        //???????:??????????(x,y)
        //???????:??????????
        RoundRect(hDC, 50, 120, 100, 200, 15, 15); //??????
        //===============================
        //??????????
        //===============================
        hPen = CreatePen(PS_SOLID, 3, RGB(0, 255, 0));  //????(??????????????)
        SelectObject(hDC, hPen);                //????
        //???????:????????(x,y)
        //???????:????????(x,y)
        //???????:????????(x,y)
        //???????:????????(x,y)
        Arc(hDC,200,200,300,300,95,5,30,190);   //?????
        //===============================
        //????????
        //===============================
        //?????????????????
        hBrush = (HBRUSH)GetStockObject(LTGRAY_BRUSH); //????????????
        SelectObject(hDC, hBrush);              //????
        //?????????????
        Pie(hDC, 250, 50, 300, 100, 250, 50, 300, 50);      //??
        //===============================
        //????????
        //===============================
        //????????????,???????(?????)???
        //??:?????(x,y),?????(x,y)
        Rectangle(hDC, 300, 300, 400, 400);     //????
        //===============================
        //????????
        //===============================
        //??????????????????,?????????(???)
        hPen = CreatePen(PS_SOLID, 5, RGB(166, 66, 66));    //????
        hBrush = CreateSolidBrush(RGB(100, 100,255));   //??????????
        SelectObject(hDC, hBrush);              //????
        SelectObject(hDC, hPen);                //????
        //????????????
        Ellipse(hDC, 150, 50, 200, 150);        //??
        //===============================
        //?????????
        //===============================
        //Polyline(hDC, myPoint, 3);        //?????????
        Polygon(hDC, myPoint, 3);       //????????(????????????????)
        //===============================
        //???????
        //===============================
//        myFont = CreateFont(        //?????????  
//            40,             //?????(????)  
//            0,              //?????????????????  
//            0,              //???????0,????  
//            0,              //???????0  
//            FW_NORMAL,      //?????,FW_NORMAL???  FW_HEAVY???  
//            0,              //????  
//            0,              //????  
//            0,              //????  
//            GB2312_CHARSET, //?????????ANSI_CHARSET  
//            OUT_DEFAULT_PRECIS, //?????????  
//            CLIP_DEFAULT_PRECIS,    //?????????  
//            DEFAULT_QUALITY,        //????????  
//            DEFAULT_PITCH | FF_DONTCARE,//?????????????  
//            L"????"             //????  
//        );
//        SetTextColor(hDC, RGB(255, 0, 0));  //?????????  
//        SetBkColor(hDC, RGB(150, 50, 50));  //??????  
//        SelectObject(hDC, myFont);      //????????????  
//        TextOutW(hDC, 50,600, String1, wcslen(String1));//??????????  
//        //===============================
//        //????????(?????)
//        //===============================
//        myFont = CreateFont(        //?????????  
//            40,             //?????(????)  
//            0,              //?????????????????  
//            100,              //???????0,????  
//            0,              //???????0  
//            FW_NORMAL,      //?????,FW_NORMAL???  FW_HEAVY???  
//            0,              //????  
//            1,              //????  
//            0,              //????  
//            GB2312_CHARSET, //?????????ANSI_CHARSET  
//            OUT_DEFAULT_PRECIS, //?????????  
//            CLIP_DEFAULT_PRECIS,    //?????????  
//            DEFAULT_QUALITY,        //????????  
//            DEFAULT_PITCH | FF_DONTCARE,//?????????????  
//            L"??"             //????  
//        );
//        SetTextColor(hDC, RGB(61, 145, 0));  //??????????  
//        SetBkMode(hDC, TRANSPARENT);  //??????????  
//        SelectObject(hDC, myFont);      //????????????  
//        TextOutW(hDC, 50,400, String2, wcslen(String2));//??????????  
        EndPaint(hWnd, &PtStr);                 //????
        //DeleteObject(myFont);   //???????,???? 
        return 0;
    case WM_DESTROY:                        //??????
        PostQuitMessage(0);
        return 0;
    default:                                    //????????
        return(DefWindowProc(hWnd, iMessage, wParam, lParam));
        break;
    }
    return 0;
}
BOOLEAN InitWindowClass(HINSTANCE hInstance, int nCmdShow)          //?????
{
    WNDCLASSEX wcex;
    HWND hWnd;
    //TCHAR *szWindowClass = _T("C++????????");
    //TCHAR *szTitle = _T("C++????????");
    wcex.cbSize = sizeof(WNDCLASSEX);
    wcex.style = 0;                     //?????????
    wcex.lpfnWndProc = WndProc;     //???????WndProc
    wcex.cbClsExtra = 0;                //??????
    wcex.cbWndExtra = 0;                //???????
    wcex.hInstance = hInstance;     //??????
    //wcex.hIcon = LoadIcon(hInstance, MAKEINTRESOURCE(IDI_APPLICATION));
    //?????????????
    wcex.hCursor = LoadCursor(NULL, IDC_ARROW);
    //????????
    wcex.hbrBackground = (HBRUSH)GetStockObject(WHITE_BRUSH);
    //???????
    wcex.lpszMenuName = NULL;           //??????
    //wcex.lpszClassName = szWindowClass;//?????"????"
    //wcex.hIconSm = LoadIcon(wcex.hInstance, MAKEINTRESOURCE(IDI_APPLICATION));
    if (!RegisterClassEx(&wcex))        //?????????????
        return FALSE;
    hWnd = CreateWindow("try1",                          //????
        "Just try try[doge]",
        WS_OVERLAPPEDWINDOW,
        CW_USEDEFAULT,      //??????X??
        0,                              //??????Y??
        500,                        //????(???????)
        700,                        //????(???????)
        NULL,
        NULL,
        hInstance,
        NULL);
    if (!hWnd)
        return FALSE;
    ShowWindow(hWnd, nCmdShow);                 //????
    UpdateWindow(hWnd);
    return TRUE;
}
